{% extends 'admin/dashboard.html' %}
{% load static %}
{% block content %}
    <section class="content">
        <!-- THIS DISPLAYS THE MESSAGE -->
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-success alert-dismissible">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <div class="box box-primary">
            <div class="box-header">
              <i class="ion ion-clipboard"></i>
              <h3 class="box-title">Category List</h3>
            </div>

            <div class="box-body">
                <div style="overflow-x: auto;">
                    <table class="table table-striped" style="table-layout: fixed; width: 100%;">
                        <thead>
                          <tr>
                            <th style="width: 10%;">ID</th>
                            <th style="width: 30%;">Category Name</th>
                            <th style="width: 30%;">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                            {% for category in categories %}
                              <tr>
                                <td>{{ category.id }}</td>
                                <td>{{ category.name }}</td>
                                <td>
                                    <div style="display: flex; gap: 5px;">
                                        <a href="/manager/categories/edit/{{ category.id }}/" class="btn btn-primary btn-sm">
                                            <span class="glyphicon glyphicon-pencil"></span> Edit
                                        </a>
                                        <a href="/manager/categories/delete/{{ category.id }}/" class="btn btn-danger btn-sm">
                                            <span class="glyphicon glyphicon-trash"></span> Delete
                                        </a>
                                    </div>
                                </td>
                              </tr>
                            {% endfor %}
                        </tbody>
                      </table>
                </div>
            </div>

            <div class="box-footer clearfix no-border">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <p style="margin: 0;">Item Count: {{count_item}}</p>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <p style="margin: 0;">Page {{ categories.number }} of {{ categories.paginator.num_pages }}</p>
                        <ul class="pagination" style="margin: 0; display: flex; align-items: center;">
                            {% if categories.has_previous %}
                                <li><a href="?page=1" style="color:white;background-color:green">&laquo; first</a></li>
                                <li><a href="?page={{ categories.previous_page_number }}" style="color:white;background-color:green">previous</a> </li>
                            {% else %}
                                <li><a style="color:white;background-color:gray">first</a> </li>
                            {% endif %}

                            {% for i in categories.paginator.page_range %}
                                {% if categories.number == i %}
                                    <li><a href="#" style="color:white;background-color: blue;">{{ i }}</a></li>
                                {% else %}
                                    <li><a href="?page={{ i }}" style="color:black;">{{ i }}</a></li>
                                {% endif %}
                            {% endfor %}

                            {% if categories.has_next %}
                                <li><a href="?page={{ categories.next_page_number }}" style="color:white;background-color:green">next</a></li>
                                <li><a href="?page={{ categories.paginator.num_pages }}" style="color:white;background-color:green">last &raquo;</a></li>
                            {% else %}
                                <li><a style="color:white;background-color:gray">last</a> </li>
                            {% endif %}
                        </ul>
                    </div>
                    <a href="/manager/categories/show/" class="btn btn-default pull-right text-bold text-blue" role="button" style="margin: 0;">
                        <icon class="fa fa-plus"></icon> Add Category
                    </a>
                </div>
            </div>
        </div>
    </section>
{% endblock content %}